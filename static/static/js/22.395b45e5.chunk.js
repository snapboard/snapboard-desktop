(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{116:function(e,t,n){"use strict";var r=n(21),a=n(0),o=n(176);t.a=function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(o.a)(e);return Object(a.useEffect)(function(){if(i)return e.onSnapshot(function(e){s(e)})},[i]),c}},1327:function(e,t,n){"use strict";n.r(t);var r=n(21),a=n(1),o=n(0),c=n(137),s=n.n(c),i=n(69),u=n(141),l=n(485),d=n(145),b=n(473),j=n(28),f=n(11),m=n.n(f),p=n(17),O=n(14),g=n(136),x=n.n(g),v=n(246),h=n.n(v),w=n(116),y=n(140),k=n(665),C=n(442),_=n(801),A=i.a.firestore(),S={name:"1bwj17t",styles:"margin-top:3em;"},z={name:"81f61y",styles:"display:flex;margin-bottom:0.3em;"},I={name:"vw10hd",styles:"flex:1 1 auto;margin:0;"},F={name:"7fj8al",styles:"&:focus{border-color:#eee;!important}"},q={name:"1fsnm1f",styles:"font-size:28px;color:#ccc;"};var N={dropdown:{name:"1nsknkn",styles:"> div{width:auto;min-width:160px;}"}},L=Object(O.g)(function(e){e.history;var t=e.workspaceId,n=A.collection("workspaces").doc(t),r=Object(w.a)(n),o=Object(d.a)(k.a),c=Object(d.a)(C.a);if(!r)return"Loading...";var i=(r&&r.data()).name,u=[{text:"New Board",onClick:function(){return c({workspaceId:t})}},{text:"Invite"},{text:"Delete Workspace",variant:"danger",onClick:function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({resource:"Workspace",resourceName:i,extraConfirm:!0});case 2:if(!0===e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,A.collection("workspaces").doc(t).update({active:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}];return Object(a.jsx)("div",{css:S},Object(a.jsx)("div",{css:z},Object(a.jsx)(s.a,{as:"h3",css:I},i),Object(a.jsx)(h.a,{data:u,placement:"bottom-end",css:N.dropdown},Object(a.jsx)(x.a,{size:"medium",css:F,fade:!0,minimal:!0,iconStart:Object(a.jsx)(y.a,{css:Object(j.a)([N.btn,q],""),icon:"dots"})}))),Object(a.jsx)(_.a,{workspaceId:t}))}),R=n(134),B=n(214),E=n.n(B),U=n(167),D=n.n(U),T=n(653),G={name:"tokvmb",styles:"color:red;"};var P=function(e){var t=e.onDone,n=e.onCancel,c=Object(o.useState)(""),s=Object(r.a)(c,2),i=s[0],u=s[1],l=Object(o.useState)(""),d=Object(r.a)(l,2),b=d[0],j=d[1],f=function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return",j("Please enter a workspace name"));case 2:return e.next=4,Object(T.a)(i);case 4:e.sent&&t();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(D.a,{size:"small",showCloseButton:!0,isOpen:!0,onClose:n,title:"Create Workspace",actions:[{text:"Cancel",onClick:t},{text:"Create Workspace",onClick:f}]},Object(a.jsx)(R.FormField,{label:"Workspace Name",input:E.a,onChange:function(e){return u(e.target.value)},value:i}),b&&Object(a.jsx)("p",{css:G},b))},W=i.a.firestore(),X={name:"9tf9ac",styles:"margin-bottom:1em;"};var M={btn:{name:"hrppr8",styles:"color:#9F9F9F;font-size:20px;font-weight:600;border:0;outline:none;background:none;cursor:pointer;padding:1em 0;margin-top:3em;:hover{color:#888;}"}};t.default=function(){var e=i.a.auth().currentUser,t=e&&W.collection("users").doc(e.uid).collection("workspaces"),n=Object(l.a)(t),o=Object(r.a)(n,1)[0],c=Object(d.a)(P),j=Object(u.a)(o,function(e){return Object(a.jsx)("div",{key:e.id,css:X},Object(a.jsx)(L,{workspaceId:e.id}))});return Object(a.jsx)(b.a,{loading:null===o},Object(a.jsx)(s.a,{as:"h1"},"Dashboard"),j,Object(a.jsx)("div",{css:M.btn,onClick:c},"+ Create new workspace"))}},140:function(e,t,n){"use strict";var r=n(44),a=n(107),o=n(109),c=n(1);n(0),n(224);function s(e){var t=e.icon,n=e.className,o=Object(a.a)(e,["icon","className"]);return Object(c.jsx)("i",Object(r.a)({},o,{className:"".concat(t," ").concat(n," icon")}))}t.a=Object(o.default)(s,{target:"e1qdfwcz0"})(function(e){return e.size?"font-size: ".concat(e.size,";"):""}," ",function(e){return e.onClick?"cursor: pointer;":""}," ",function(e){return e.top||e.left||e.right||e.bottom?"position: absolute;":""}," ",function(e){return e.top?"top: ".concat(e.top,";"):""},"}",function(e){return e.left?"left: ".concat(e.left,";"):""},"}",function(e){return e.right?"right: ".concat(e.right,";"):""},"}",function(e){return e.bottom?"bottom: ".concat(e.bottom,";"):""},"}")},141:function(e,t,n){"use strict";t.a=function(e,t){var n=[];return e?(e.forEach(function(e,r){n.push(t(e,r))}),n):n}},145:function(e,t,n){"use strict";var r=n(0),a=n(49);t.a=function(e){var t=Object(r.useContext)(a.a);return function(n){return t.push(e,n)}}},154:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(44),a=n(107),o=n(1),c=(n(0),n(434)),s=n.n(c),i=n(247),u=n.n(i);s.a.setAppElement("#root");var l={overlay:{zIndex:9,background:"rgba(0, 0, 0, 0.8)"},content:{border:0,padding:0,zIndex:10}},d={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function b(e){var t=e.style,n=e.center,c=e.forwardRef,i=Object(a.a)(e,["style","center","forwardRef"]),b=u()({},l,n?d:{},t);return Object(o.jsx)(s.a,Object(r.a)({ref:c,style:b},i))}},169:function(e,t,n){"use strict";var r=n(459),a=n(179);t.a=Object(a.a)(r.a)},176:function(e,t,n){"use strict";function r(e){return e?e._query?e._query.memoizedCanonicalId||e._query.canonicalId():e.memoizedCanonicalId?e.memoizedCanonicalId:e.canonicalId?e.canonicalId():e.path:null}n.d(t,"a",function(){return r})},179:function(e,t,n){"use strict";var r=n(44),a=n(107),o=n(148),c=n(1),s=(n(0),n(22)),i=n(45),u={container:function(e,t){var n=t.theme;return Object(o.a)({},e,{fontSize:n.fontSize_ui})},indicatorSeparator:function(){return{width:0}},placeholder:function(e,t){var n=t.theme;return Object(o.a)({},e,{color:n&&n.input_color_placeholder})},control:function(e,t){var n=t.theme;return Object(o.a)({},e,{minHeight:35,borderColor:"#c8d1e0",":hover":{borderColor:n&&n.borderColor_theme_hover,boxShadow:"none"},":active":{boxShadow:"0 0 0 1px #ffffff, 0 0 0 2px #1d5bbf",borderColor:"#c8d1e0"}})},option:function(e,t){var n=t.theme;return t.isSelected?e:Object(o.a)({},e,{":hover":{background:n&&n.color_gray_10}})},menuPortal:function(e,t){var n=t.theme;return Object(o.a)({},e,{fontSize:n&&n.fontSize_ui,zIndex:n&&n.zIndex_1600})},menu:function(e,t){var n=t.theme;Object(a.a)(t,["theme"]);return Object(o.a)({},e,{marginTop:4,zIndex:n&&n.zIndex_1600,boxShadow:n&&n.boxShadow_2,border:"1px solid #eee",borderColor:n&&n.panel_borderColor})}};t.a=function(e){return Object(s.themed)(Object(i.withTheme)(function(e){return function(t){var n=t.styles,s=Object(a.a)(t,["styles"]);return Object(c.jsx)(e,Object(r.a)({styles:Object(o.a)({},u,n||{})},s))}}(e)))(function(e){var t=e.theme;return{borderRadius:t.borderRadius_1,danger:t.backgroundColor_dangerPrimary,dangerLight:t.backgroundColor_danger_focus,neutral0:t.color_white,neutral5:t.color_gray_10,neutral10:t.color_gray_10,neutral20:t.color_gray_20,neutral30:t.color_gray_30,neutral40:t.color_gray_40,neutral50:t.color_gray_50,neutral60:t.color_gray_60,neutral70:t.color_gray_70,neutral80:t.color_gray_80,neutral90:t.color_gray_90,primary:t.color_theme,primary25:t.color_gray_10,primary50:t.color_theme_20,primary75:t.color_theme_70}})}},224:function(e,t,n){},238:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAAEk8BksAAAABGdBTUEAALGPC/xhBQAAAk9JREFUaAXtWl1ugzAMDoxjtAcq1R6n7Rb0KOUWmyZ1T+sOxG6w7XFluFqLY+zgRAFVKEiVHOfz3+fQBFpj8PX83uJhjgdULqgCxl+H7dlD3lRVCx8O5HTrnOy9vRwbg7Ltrdp21aOM6SeQFrI8Z4h0V5G1gFlxIrvaYgFlZ562A4zoDfugMss5BcH40geQC9yHdV0PUgEQvYLSCzLi07mwd5eV5qH8wOm5o/y2RwwG2W1A0SEGqr7gnnin5N1E7whLMODXEtNh/N1hTTN3qjUfsjqoA83YuxsapxSjWrbUSBr/vN1vTu3Juvu6fnxGrYQGgGS6PWZVNLvdxrT2vQ/RV3W9ljL21ec0wCW6ryMXPipdUqAURGKG1eewktgZjTLLLFvJV6dXXK/HjaFbHAR4LFXLXNd4GgDyIucqV6q6IC4PirkUREFSD5mFrqj7yfdh28BXe19Dd5LL8jJqJTQABIM9JmoQXAGWZwlSfFbVgEeTZeV6v7eO1TgzXznneOR2S1/HGD8LXSkIpnxUTnSNUoQBiS7MxqjM0jU4P5Hz1ahXBABfunMXMnKK8F5Ke1TyOLc5Y/5PsmxpDFmMtggw9sGywWxl3EJs37OOUiGz0q0IljqiIGlWSNRnhpiZc88fkn/YR252abFnc6ESwN5sIULOonoxhfDPcELdsBZjvvUUwgSp+edEwZXPuhVcTKZezNJKhUy2RgIdp44EEjeZWerIZNQGOk4dCSRuMrMFdaR7Nw5nqDGqzpgO68TB31c076cAA1jHBb99aPMC7B+QlYyCvz273QAAAABJRU5ErkJggg=="},371:function(e,t,n){"use strict";var r=n(44),a=n(107),o=n(1),c=(n(0),n(69)),s=n(116),i=n(141),u=n(169),l=c.a.firestore();t.a=function(e){var t=e.value,n=e.onChange,d=Object(a.a)(e,["value","onChange"]),b=c.a.auth().currentUser,j=b&&l.collection("workspaces").where("members.".concat(b.uid),">=",""),f=Object(s.a)(j),m=Object(i.a)(f,function(e){var t=e.data();return{value:e.id,label:t.name||"Personal"}});return Object(o.jsx)(u.a,Object(r.a)({isLoading:!f,value:t,onChange:n,options:m},d))}},379:function(e,t,n){"use strict";var r=n(1),a=(n(0),n(238)),o=n.n(a);n(426);var c={position:"absolute",height:18,width:36,margin:"-36px 0 0 -16px",top:"50%",left:"50%"," > div > div":{backgroundColor:"rgba(130, 130, 130, 0.5)",width:8,height:8}},s=function(){return Object(r.jsx)("div",{css:c},Object(r.jsx)("div",{className:"spinner"},Object(r.jsx)("img",{width:40,src:o.a,alt:"logo"})))};t.a=function(e){var t=e.loading,n=e.children,a=e.icon;return t?a?Object(r.jsx)(s,null):"Loading...":n}},426:function(e,t,n){},442:function(e,t,n){"use strict";var r=n(11),a=n.n(r),o=n(17),c=n(21),s=n(1),i=n(0),u=n(14),l=n(69),d=n(134),b=n(214),j=n.n(b),f=n(136),m=n.n(f),p=n(167),O=n(154),g=n(371),x=l.a.firestore(),v={name:"16f1609",styles:"margin-top:1em;"},h={name:"1v8nkjm",styles:"margin-top:2em;"},w={name:"tokvmb",styles:"color:red;"};var y={content:{name:"sqxvk6",styles:"position:relative;padding:2em;min-width:300px;"}};t.a=Object(u.g)(function(e){var t=e.onDone,n=e.onCancel,r=e.history,u=Object(i.useState)(""),b=Object(c.a)(u,2),f=b[0],k=b[1],C=Object(i.useState)(null),_=Object(c.a)(C,2),A=_[0],S=_[1],z=Object(i.useState)(""),I=Object(c.a)(z,2),F=I[0],q=I[1],N=function(){var e=Object(o.a)(a.a.mark(function e(){var n,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.a.auth().currentUser,o=A&&A.value,n){e.next=4;break}return e.abrupt("return",q("Please login"));case 4:if(f){e.next=6;break}return e.abrupt("return",q("Please enter a board name"));case 6:if(o){e.next=8;break}return e.abrupt("return",q("Workspace is required"));case 8:return e.next=10,x.collection("reports").add({name:f,workspaceId:o,active:!0,public:!1}).catch(function(e){return q(e.message),null});case 10:(c=e.sent)&&(r.push("/r/".concat(c.id)),t());case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(s.jsx)(O.a,{center:!0,size:"small",showCloseButton:!0,isOpen:!0,title:"New Board",onRequestClose:n},Object(s.jsx)("div",{css:y.content},Object(s.jsx)(d.FormField,{label:"Board Name",input:j.a,onChange:function(e){return k(e.target.value)},value:f}),Object(s.jsx)(d.FormField,{css:v,label:"Workspace"},Object(s.jsx)(g.a,{onChange:function(e){return S(e)},value:A,menuPortalTarget:document.body,isSearchable:!0})),F&&Object(s.jsx)("p",{css:w},F),Object(s.jsx)(p.DialogActions,{css:h},Object(s.jsx)(m.a,{size:"medium",onClick:n},"Cancel"),Object(s.jsx)(m.a,{size:"medium",onClick:N},"Create Board"))))})},473:function(e,t,n){"use strict";var r=n(21),a=n(1),o=(n(0),n(35)),c=n(109),s=n(441),i=n.n(s),u=Object(c.default)(i.a,{target:"e16nieg80"})({name:"1kfy055",styles:"& > div[role=\"tooltip\"]{box-shadow:none;& > div{font-weight:600;}& > span{font-family:'Open Sans';box-shadow:none;text-shadow:0 2px 0 #434a54;}}"}),l=n(140),d=n(48),b=n(145),j=n(379),f=n(238),m=n.n(f),p=n(442),O={name:"a5mea9",styles:"display:block;margin-bottom:1.7em;"},g={name:"15223kq",styles:"margin:1.5em 0;position:relative;"},x={name:"epvm6",styles:"white-space:nowrap;"},v={name:"15223kq",styles:"margin:1.5em 0;position:relative;"};var h={container:{name:"35exys",styles:"margin-left:auto;margin-right:auto;max-width:52em;padding:2em 3em;@media only screen and (max-width:900px){padding-left:5.5em;}"},nav:{name:"1uzw1qy",styles:"position:fixed;top:0;left:0;padding:2em;"},navIcon:{name:"lzj7sa",styles:"display:block;outline:none;cursor:pointer;"},settings:{name:"h8bj00",styles:"color:#dcdcdc;display:block;outline:none;"}};t.a=function(e){var t=e.children,n=e.loading,c=Object(d.a)(),s=Object(r.a)(c,2),i=s[0],f=s[1],w=!!i,y=Object(b.a)(p.a);return f?null:Object(a.jsx)("div",{css:h.container},Object(a.jsx)("div",{css:h.nav},Object(a.jsx)(o.c,{css:O,to:"/d"},Object(a.jsx)("img",{src:m.a,alt:"logo",width:"25px"})),Object(a.jsx)("div",{css:g},Object(a.jsx)(u,{content:"New Board",placement:"right",css:x},Object(a.jsx)("span",{css:h.navIcon,onClick:function(){return y()}},Object(a.jsx)(l.a,{size:"1.6em",css:h.settings,icon:"plus"})))),w&&Object(a.jsx)("div",{css:v},Object(a.jsx)(u,{content:"Settings",placement:"right"},Object(a.jsx)(o.c,{css:h.navIcon,to:"/settings"},Object(a.jsx)(l.a,{size:"1.55em",css:h.settings,icon:"settings"}))))),Object(a.jsx)("div",null,Object(a.jsx)(j.a,{loading:void 0!==n&&!!n},t)))}},485:function(e,t,n){"use strict";var r=n(21),a=n(0),o=n(176),c={};t.a=function(e){var t=Object(a.useState)([null,null,!0]),n=Object(r.a)(t,2),s=n[0],i=n[1],u=Object(o.a)(e);return Object(a.useEffect)(function(){if(u)return function(e,t){var n=Object(o.a)(e);if(c[n]&&t(c[n].state,c[n].error),!c[n]){var r=e.onSnapshot(function(e,t){if(!c[n])return null;0===c[n].listeners.length&&c[n].deregister(),c[n].listeners.forEach(function(n){return n(e,t)}),c[n].state=e,c[n].error=t});c[n]={listeners:[],error:null,state:null,deregister:r}}return c[n].listeners.push(t),function(){var e=c[n].listeners.indexOf(t);e>-1&&c[n].listeners.splice(e,1),0===c[n].listeners.length&&setTimeout(function(){c[n]&&0===c[n].listeners.length&&(c[n].deregister(),delete c[n])},3e5)}}(e,function(e,t){i([e,t,!1])})},[u]),s}},653:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(11),a=n.n(r),o=n(363),c=n(17),s=n(69),i=s.a.firestore();function u(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.a.auth().currentUser){e.next=3;break}throw new Error("Please login");case 3:return e.next=5,i.collection("workspaces").add({name:t,members:Object(o.a)({},n.uid,"OWNER"),active:!0});case 5:return r=e.sent,e.next=8,i.collection("users").doc(n.uid).collection("workspaces").doc(r.id).set({});case 8:return e.abrupt("return",r.id);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},665:function(e,t,n){"use strict";var r=n(21),a=n(1),o=n(0),c=n(167),s=n.n(c),i=n(137),u=n.n(i),l=n(134),d=n(214),b=n.n(d),j={name:"35ezg3",styles:"font-weight:600;"},f={name:"tokvmb",styles:"color:red;"};t.a=function(e){var t=e.resource,n=e.resourceName,c=e.extraConfirm,i=e.onCancel,d=e.onDone,m=Object(o.useState)(""),p=Object(r.a)(m,2),O=p[0],g=p[1],x=Object(o.useState)(null),v=Object(r.a)(x,2),h=v[0],w=v[1],y=n?Object(a.jsx)("span",null,"the ",Object(a.jsx)("em",{css:j},n)):"this",k=c?Object(a.jsx)("span",null,"To confirm delete please type ",y," below."):Object(a.jsx)("span",null,"Are you really sure you want to delete ",y," ",t.toLowerCase(),".");return Object(a.jsx)(s.a,{title:"Confirm Delete ".concat(t),size:"small",onClose:i,isOpen:!0,actions:[{text:"Cancel",onClick:i},{text:"Delete ".concat(t),onClick:function(){if(!c||O===n)return d(!0);w("Please type exactly ".concat(n))},variant:"danger"}]},Object(a.jsx)("div",null,Object(a.jsx)(u.a,null,k),c&&Object(a.jsx)(l.FormField,{label:"Confirm Workspace Delete"},Object(a.jsx)(b.a,{placeholder:"Type ".concat(n),value:O,onChange:function(e){return g(e.target.value)}})),h&&Object(a.jsx)(u.a,{css:f},h)))}},801:function(e,t,n){"use strict";var r=n(21),a=n(1),o=(n(0),n(35)),c=n(141),s=n(69),i=n(485),u=n(116),l=s.a.firestore();var d={item:{name:"1iqopl6",styles:"display:block;border:1px solid #eee;border-radius:3px;padding:1em;color:#424852;"}},b=function(e){var t=e.reportId,n=e.reportName,r=l.collection("reports").doc(t),o=Object(u.a)(n?null:r);if(!n&&!o)return"Loading";var c=n||o.data().name;return Object(a.jsx)("div",{css:d.item},Object(a.jsx)("h3",null,c))},j=s.a.firestore(),f={name:"9tf9ac",styles:"margin-bottom:1em;"};t.a=function(e){var t=e.workspaceId,n=j.collection("reports").where("workspaceId","==",t).where("active","==",!0),s=Object(i.a)(n),u=Object(r.a)(s,3),l=u[0],d=u[1],m=u[2];return d?"Something went wrong \ud83e\udd26":m?"Loading...":Object(c.a)(l,function(e){return Object(a.jsx)("div",{key:e.id,css:f},Object(a.jsx)(o.c,{key:e.id,to:"/r/".concat(e.id)},Object(a.jsx)(b,{reportName:e.data().name,reportId:e.id})))})}}}]);
//# sourceMappingURL=22.395b45e5.chunk.js.map